{% extends "layout.html" %}

<div class="alert alert-primary mb-0 text-center" role="alert">Bought!</div>
{% block title %}
    Home
{% endblock %}

{% block main %}


<h2>Portfolio</h2>
    <main class="container py-5 text-center">
        <table class="table table-striped">
            <thead>
                <tr>
                    <!-- stocks the user owns -->
                    <th class="text-start">Symbol</th>
                    <!-- Name of the stocks the user owns -->
                    <th class="text-start">Name</th>
                    <!-- Numbers of shares owned -->
                    <th class="text-end">Shares</th>
                    <!-- Current price of each stock -->
                    <th class="text-end">Price</th>
                    <!-- Display a grand total (i.e., stocks’ total value plus cash). -->
                    <th class="text-end">TOTAL</th>
                </tr>
            </thead>
            <tbody>
            {% for symbol in stocks_dict %}
                <tr>
                    <td class="text-start">{{ symbol }}</td>
                    <td class="text-start">{{ symbol }}</td>
                    <td class="text-end">{{ stocks_dict[symbol] }}</td>
                    <td class="text-end">{{ prices[loop.index] | usd}}</td>
                    <td class="text-end">{{ (prices[loop.index] * stocks_dict[symbol]) | usd}}</td>
                </tr>
            {% endfor %}
            </tbody>
            <tfoot>
                <tr>
                    <!-- the total value of each holding (i.e., shares times price) -->
                    <th class="border-0 fw-bold text-end" colspan="4">Holdings</th>
                    <td class="text-end">{{ holdings | usd}}</td>
                </tr>
                <tr>
                    <!-- display the user’s current cash balance -->
                    <th class="border-0 fw-bold text-end" colspan="4">Cash</th>
                    <td class="text-end">{{ cash | usd }}</td>
                </tr>
                <tr>
                    <!-- display a grand total (i.e., stocks’ total value plus cash). -->
                    <th class="border-0 fw-bold text-end" colspan="4">TOTAL</th>
                    <td class="text-end">{{ total | usd }}</td>
                </tr>
            </tfoot>
        </table>
    </main>

{% endblock %}